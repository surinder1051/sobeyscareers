!function(e){var n=e("[data-js-header_communities]");if(n.length){var o,i=e(".component_header_communities"),s=e(".region-single-star"),t=(e(".region-title"),e(".region-single")),a=e(".region-map"),r=e(".region-map img"),l=".gh-close-button",c=".gh-menu-item",g="-open",d="-starred",h=0;e(document).ready(function(){n.on("click",v),s.on("click",p),e(document).on("click",l,b),t.on("mouseenter",f),e(document).on("modal-close",b)});var u=function(){e(i).hasClass("-open")&&((o=new Array).push(e(".menu-global-container .gh-close-button a")),e(".region-single a",i).each(function(){e(this).attr("tabindex","0"),o.push(e(this))}))};e(window).on("keydown",function(n){var s;if(e(i).hasClass("-open"))switch(n.which?n.which:n.keyCode){case 9:n.preventDefault(),n.shiftKey?(s=h-1,e(".region-single .bg, .region-single .region-title",i).removeClass("hover"),e(o[h]).focus(),e(".bg, .region-title",o[h]).addClass("hover"),0==h&&(s=o.length-1),h=s):function(){var n=1+h;e(".region-single .bg, .region-single .region-title",i).removeClass("hover"),e(o[h]).focus(),e(".bg, .region-title",o[h]).addClass("hover"),n==o.length&&(n=0),h=n}();break;case 27:b()}})}function m(e){27===e.keyCode&&b()}function f(n){var o=e(this).data("map-class");void 0!==o&&(r.hide(),a.find("."+o).show())}function v(n){e(document).trigger("menu-close"),e("body").addClass("no_scroll"),n.preventDefault(),i.show(),i.addClass(g),e(c).hide(),e(l).show(),e(document).bind("keyup",m),u()}function b(){e("body").removeClass("no_scroll"),i.removeClass(g),i.hide(),e(c).show(),e(l).hide(),e(document).unbind("keyup",m)}function p(){e(this).toggleClass(d)}}(jQuery);